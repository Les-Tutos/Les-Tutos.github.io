import{g as d,h}from"./q-DM2Byn__.js";import{t as p,i as v,b as S,r as g,g as y,l as R,c as b}from"./q-CCRBlrFV.js";import{c as w,m as x,r as C}from"./q-BiHF84Lt.js";import"./q-2LWRYvkK.js";const j=async(o,a)=>{const[n,c,s,l]=d(),{type:t="link",forceReload:i=o===void 0,replaceState:u=!1,scroll:f=!0}=typeof a=="object"?a:{forceReload:a},r=s.value.dest,e=o===void 0?r:p(o,l.url);if(!v(e,r)){location.href=e.href;return}if(!i&&S(e,r)){t==="link"&&e.href!==location.href&&history.pushState(null,"",e),g(t,e,new URL(location.href),y()),t==="popstate"&&(window._qCityScrollEnabled=!0);return}return s.value={type:t,dest:e,forceReload:i,replaceState:u,scroll:f},R(e,h()),b(C,x,w,e.pathname),n.value=void 0,l.isNavigating=!0,new Promise(m=>{c.r=m})};export{j as s_fX0bDjeJa0E};
